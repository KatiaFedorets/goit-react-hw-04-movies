(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{31:function(t,e,n){"use strict";var c=n(36),r=n.n(c),a="eade4640657bb63c2c171ffa3ce711eb",i="https://api.themoviedb.org/3/";e.a={fetchGetTrending:function(){return r.a.get("".concat(i,"trending/all/day?api_key=").concat(a,"&language=en-US"))},fetchMoviesByQuery:function(t){return r.a.get("".concat(i,"search/movie?api_key=").concat(a,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"))},fetchMoviesDetails:function(t){return r.a.get("".concat(i,"movie/").concat(t,"?api_key=").concat(a,"&language=en-US"))},fetchMoviesCast:function(t){return r.a.get("".concat(i,"movie/").concat(t,"/credits?api_key=").concat(a,"&language=en-US"))},fetchMoviesReviews:function(t){return r.a.get("".concat(i,"movie/").concat(t,"/reviews?api_key=").concat(a,"&language=en-US"))}}},64:function(t,e,n){t.exports={castList:"Cast_castList__1-rtt"}},67:function(t,e,n){"use strict";function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);e&&(c=c.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,c)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n.r(e);var i=n(32),o=n(33),s=n(35),l=n(34),h=n(0),u=n(9),p=n(2),j=n(31),v=n(1),b=function(t){var e=t.original_title,n=t.poster_path,c=t.popularity,r=t.overview,a=t.genres;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{children:e}),Object(v.jsx)("div",{children:Object(v.jsx)("img",{width:"240px",src:"https://image.tmdb.org/t/p/w500".concat(n),alt:e})}),Object(v.jsxs)("p",{children:["User Score: ",Math.round(c),"%"]}),Object(v.jsx)("h3",{children:"Overview"}),Object(v.jsx)("p",{children:r}),Object(v.jsx)("h4",{children:"Genres"}),Object(v.jsx)("ul",{children:a.map((function(t){return Object(v.jsx)("li",{children:t.name},t.id)}))})]})},f=n(64),d=n.n(f),O=function(t){Object(s.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={casts:[],error:""},t.fetchMoviesCast=function(){var e=t.props.match.params.movieId;j.a.fetchMoviesCast(e).then((function(e){t.setState({casts:e.data.cast}),console.log(t.state)})).catch((function(e){return t.setState({error:e})}))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.fetchMoviesCast()}},{key:"render",value:function(){var t=this.state.casts;return Object(v.jsx)(v.Fragment,{children:t.length?Object(v.jsx)("ul",{className:d.a.castList,children:t.map((function(t){var e=t.id,n=t.profile_path,c=t.name,r=t.character;return Object(v.jsxs)("li",{children:[Object(v.jsx)("img",{width:"140px",height:"210px",src:"https://image.tmdb.org/t/p/w500".concat(n),alt:c}),Object(v.jsx)("p",{children:c}),Object(v.jsx)("p",{children:r})]},e)}))}):Object(v.jsx)("p",{children:"No information about cast"})})}}]),n}(h.Component),m=function(t){Object(s.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={reviews:[],error:""},t.fetchMoviesReviews=function(){var e=t.props.match.params.movieId;j.a.fetchMoviesReviews(e).then((function(e){t.setState({reviews:e.data.results}),console.log(t.state)})).catch((function(e){return t.setState({error:e})}))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.fetchMoviesReviews()}},{key:"render",value:function(){var t=this.state.reviews;return Object(v.jsx)(v.Fragment,{children:t.length?Object(v.jsx)("ul",{children:t.map((function(t){var e=t.id,n=t.author,c=t.content,r=t.url;return Object(v.jsxs)("li",{children:[Object(v.jsxs)("h5",{children:["Author: ",n]}),Object(v.jsx)("p",{children:c}),Object(v.jsx)("a",{href:r,children:"Link for review"})]},e)}))}):Object(v.jsx)("p",{children:"No information about cast"})})}}]),n}(h.Component),g=function(t){Object(s.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={movieDetails:[],error:""},t.handleClick=function(){t.fetchMoviesCast()},t.fetchMoviesDetails=function(){var e=t.props.match.params.movieId;j.a.fetchMoviesDetails(e).then((function(e){t.setState({movieDetails:e.data})})).catch((function(e){return t.setState({error:e})}))},t.handleClick=function(){var e,n,c=t.props,r=c.location;c.history.push((null===r||void 0===r||null===(e=r.state)||void 0===e||null===(n=e.from)||void 0===n?void 0:n.pathname)||"/")},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.fetchMoviesDetails()}},{key:"render",value:function(){var t=this.state.movieDetails,e=t.original_title,n=t.poster_path,c=t.popularity,r=t.overview,i=t.genres,o=t.id;return 0===this.state.movieDetails.length?null:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("button",{type:"button",onClick:this.handleClick,children:"Go back"}),Object(v.jsx)(b,{original_title:e,poster_path:n,popularity:c,overview:r,genres:i}),Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Additional information"}),Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:Object(v.jsx)(u.c,{to:"".concat(this.props.match.url,"/").concat(o,"/cast"),children:"Cast"})}),Object(v.jsx)("li",{children:Object(v.jsx)(u.c,{to:"".concat(this.props.match.url,"/").concat(o,"/reviews"),children:"Reviews"})})]})]}),Object(v.jsx)(p.a,{path:"".concat(this.props.match.path,"/").concat(o,"/cast"),render:function(t){return Object(v.jsx)(O,a(a({},t),{},{extraPropName:"value"}))}}),Object(v.jsx)(p.a,{path:"".concat(this.props.match.path,"/").concat(o,"/reviews"),render:function(t){return Object(v.jsx)(m,a(a({},t),{},{extraPropName:"value"}))}})]})}}]),n}(h.Component);e.default=g}}]);
//# sourceMappingURL=4.2b45c149.chunk.js.map